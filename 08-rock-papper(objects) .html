<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>rock paper scissor</title>
</head>
<body>
    <p>
        Rock Paper Scissor
    </p>
    <button onclick="
        pickcomputermove();
        play('Rock');
    ">Rock</button>
    <button onclick="
    let randomno = Math.random();
        pickcomputermove();
        play('Paper');
    ">Paper</button>
    <button onclick="
        pickcomputermove();
        play('Scissor');
    ">Scissor</button>
    <button onclick="
        if(score.Loses === 0 && score.Ties === 0 && score.Wins ===0){
            alert('The score was already ZERO!!!');
        }
        else
            alert('Score was resetted!!!');
        score.Loses = 0;
        score.Wins = 0;
        score.Ties = 0;
        localStorage.removeItem('score');
        console.log(score);
    ">Reset the Score</button>

    <script>
        let computerMove = '';
        const score = JSON.parse(localStorage.getItem('score'))  || { Wins : 0, Loses  : 0, Ties : 0};
        function play(playermove){
            if(playermove == 'Scissor'){
                if(computerMove === 'Scissor')
                {
                    result = 'Tie..';
                }
                else if(computerMove === 'Paper')
                {
                    result = 'You Win..';
                }
                else 
                    result = 'You Lose..';
            }
            else if(playermove == 'Rock'){
                if(computerMove === 'Rock')
                {
                    result = 'Tie..';
                }
                else if(computerMove === 'Paper')
                {
                    result = 'You Lose..';
                }
                else 
                    result = 'You Win..';
            }
            else{
                if(computerMove === 'Paper')
                {
                    result = 'Tie..';
                }
                else if(computerMove === 'Rock')
                {
                    result = 'You Win..';
                }
                else 
                    result = 'You Lose..';   
            }

            if(result === 'You Win..'){
                score.Wins = score.Wins + 1;
            }
            else if(result === 'You Lose..'){
                score.Loses = score.Loses + 1;
            }
            else{
                score.Ties = score.Ties + 1;
            }
            console.log(score);

            localStorage.setItem('score',JSON.stringify(score));

            alert(`You Picked Paper. Computer Picked ${computerMove}. ${result}
Wins : ${score.Wins}  Loses : ${score.Loses}  Ties : ${score.Ties}`);

            
        }
        function pickcomputermove(){
            let randomno1 = Math.random();     
            if(randomno1 >= 0 && randomno1 <= 1/3)
            {
                computerMove = 'Rock';
            }
            else if(randomno1 > 1/3 && randomno1 <= 2/3)
            {
                computerMove = 'Scissor'
            }
            else{
                computerMove = 'Paper';
            }
            console.log(computerMove);
            }
    </script>
</body>
</html>